<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>canvas4</title>
    <style>
        canvas {
            display: block;
            /* margin: 50px auto 0; */
            background-color: #000;
        }
    </style>
</head>
<body>
    <!-- <canvas width='500' height='500'></canvas> -->
    <canvas></canvas>
    <script>
        let canvas = document.querySelector('canvas')
        let canCon = canvas.getContext('2d')
        // 裁剪
        // canCon.clip()
        // canCon.clip(fillRule)
        // canCon.clip(path,fillRule)

        let path1 = new Path2D()
        // path1.moveTo(250,250)
        // path1.lineTo(300,250)
        // path1.lineTo(250,300)
        // path1.lineTo(200,250)
        // path1.lineTo(250,250)

        path1.arc(250,250,20,0,Math.PI*2)
        path1.arc(250,250,35,0,Math.PI*2)
        path1.arc(250,250,50,0,Math.PI*2)
        path1.arc(250,250,65,0,Math.PI*2)
        path1.arc(250,250,80,0,Math.PI*2)
        canCon.fillStyle='red'
        canCon.fillRect(0,0,500,500)
        // canCon.clip(path1)
        canCon.clip(path1,'evenodd')
        canCon.fillStyle='#fff'
        // canCon.fillRect(0,0,500,500)

        // 动画
        // let y = 50
        // setInterval(function() {
        //     canCon.beginPath()
        //     canCon.clearRect(0,0,500,500)
        //     canCon.fillStyle='black'
        //     canCon.arc(250,y++,66,0,Math.PI*2)
        //     canCon.fill()
        // }, 10000);

        // 长尾动画
        ~~function setSize() {
            window.onresize = arguments.callee
            canvas.width = window.innerWidth
            canvas.height = window.innerHeight
        }()
        let y = 0
        setInterval(function() {
            canCon.beginPath()
            canCon.fillStyle='rgb(0,0,0,0.1)'
            canCon.fillRect(0,0,canvas.width,canvas.height)
            canCon.fillStyle='#fff'
            canCon.fillRect(500,y++,2,10)
        },50)
    </script>
</body>
</html>